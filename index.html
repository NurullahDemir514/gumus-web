<!doctype html>
<html lang="tr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Portföy Takip</title>
  <link rel="icon" type="image/svg+xml" href='data:image/svg+xml,
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 64">
  <rect width="64" height="64" rx="16" fill="%230b0f14"/>
  <rect x="6" y="6" width="52" height="52" rx="14" fill="none" stroke="%23ffffff" opacity="0.10"/>
  <path d="M16 40 L28 30 L38 34 L48 22" fill="none" stroke="%236aa9ff" stroke-width="5" stroke-linecap="round" stroke-linejoin="round"/>
  <circle cx="48" cy="22" r="4.5" fill="%23ffffff" opacity="0.90"/>
</svg>' />
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="bgFx" aria-hidden="true">
    <div class="bgFx__aurora"></div>
    <div class="bgFx__shine"></div>
    <div class="bgFx__grain"></div>
  </div>
  <div class="page">
    <div class="stickyBar" id="stickyBar">
      <div class="barTop">
        <div class="barTitleMain">Portföy Kontrol</div>
        <div class="pillRow">
          <div class="pill" id="perfPill">Perf: —</div>
          <div class="pill" id="nowPill">—</div>
        </div>
      </div>
      <div class="barGrid">
        <div class="barCol">
          <div class="barTitle">Kur Girişi</div>
          <div class="barPanel">
            <div class="row3">
              <div>
                <label>Gümüş kur (₺/g)</label>
                <input id="inpSilver" inputmode="decimal" placeholder="örn: 125.7351" />
                <div class="helper" id="errSilver"></div>
              </div>
              <div>
                <label>ASELSAN fiyat (₺)</label>
                <input id="inpAselsan" inputmode="decimal" placeholder="örn: 302.5" />
                <div class="helper" id="errAselsan"></div>
              </div>
              <div>
                <label>UCAYM fiyat (opsiyonel)</label>
                <input id="inpUcaym" inputmode="decimal" placeholder="örn: 19.25 (boş = hesap dışı)" />
              </div>
            </div>
            <div class="row" style="margin-top:10px">
              <button class="btn" id="btnCalc">Kurları Kaydet</button>
              <button class="btn2" id="btnReset">Sıfırla</button>
            </div>
          </div>
          <div class="kpiStrip" id="kpiStrip">
            <div class="kpiLeft">
              <div class="kpiLbl">Toplam portföy anlık net kâr</div>
              <div class="mini" id="totDiffLine">önceki: —</div>
            </div>

            <div class="kpiRight">
              <div class="kpiVal mono" id="totalProfit">—</div>
              <div class="kpiMeta">
                <div class="badge" id="stampPill">—</div>
                <div class="badge" id="quickBadge">—</div>
              </div>
            </div>
          </div>
        </div>

        <div class="barCol">
          <div class="barTitle">İşlem Girişi</div>
          <div class="barPanel">
            <div class="row">
              <div>
                <label class="mini">Varlık</label>
                <div class="pillGroup" id="assetGroup">
                  <button type="button" class="pillBtn isActive" data-value="silver">Gümüş</button>
                  <button type="button" class="pillBtn" data-value="aselsan">ASELSAN</button>
                  <button type="button" class="pillBtn" data-value="ucaym">UCAYM</button>
                </div>
              </div>
              <div>
                <label class="mini">Tür</label>
                <div class="pillGroup" id="typeGroup">
                  <button type="button" class="pillBtn isActive" data-value="sell">Satış</button>
                  <button type="button" class="pillBtn" data-value="buy">Alış</button>
                </div>
              </div>
            </div>
            <div class="row" style="margin-top:10px">
              <div>
                <label class="mini">Miktar</label>
                <input id="tradeQty" inputmode="decimal" placeholder="örn: 10" />
              </div>
              <div>
                <label class="mini">Fiyat (₺)</label>
                <input id="tradePx" inputmode="decimal" placeholder="örn: 120.50" />
              </div>
            </div>
            <div class="row" style="margin-top:10px">
              <button class="btn" id="btnAddTrade">Kaydet</button>
              <button class="linkBtn" id="btnTradeClear" type="button">Temizle</button>
            </div>
            <div class="helper" id="tradeHelp"></div>
          </div>
        </div>
      </div>
    </div>

    <div class="sliderWrap">
      <div class="slider" id="slider" tabindex="0" aria-label="Panel kaydirici">
        <section class="panel panel--summary">
          <div class="panelInner">
            <div class="panelHd">
              <div>
                <div class="k">Günlük Özet</div>
                <div class="mini">Genel görünüm</div>
              </div>
              <div class="historySelect">
                <select id="summaryHistorySelect">
                  <option value="latest">Güncel</option>
                </select>
              </div>
            </div>
            <div class="panelBody" style="display:flex; flex-direction:column; gap:12px;">
              <div class="outGrid">
                <div class="outTable">
                  <div class="hd">
                    <div class="k">Gümüş</div>
                  </div>
                  <div class="tableWrap">
                    <table class="kvTable">
                      <tbody id="outSilver">
                        <tr><td colspan="2" class="muted">—</td></tr>
                      </tbody>
                    </table>
                  </div>
                </div>

                <div class="outTable">
                  <div class="hd">
                    <div class="k">ASELSAN</div>
                  </div>
                  <div class="tableWrap">
                    <table class="kvTable">
                      <tbody id="outAselsan">
                        <tr><td colspan="2" class="muted">—</td></tr>
                      </tbody>
                    </table>
                  </div>
                </div>

                <div class="outTable">
                  <div class="hd">
                    <div class="k">UCAYM</div>
                  </div>
                  <div class="tableWrap">
                    <table class="kvTable">
                      <tbody id="outUcaym">
                        <tr><td colspan="2" class="muted">—</td></tr>
                      </tbody>
                    </table>
                  </div>
                </div>
              </div>

              <div class="chartCard">
                <div class="chartTitle">Varlık Net Kâr Katkısı</div>
                <div class="chartWrap chartWrap--bars chartWrap--cards">
                  <div class="contribCards" id="chartCards"></div>
                </div>
              </div>
              <div class="summaryFooter" id="summaryFooter">
                <div class="summaryFooterHead">
                  <div class="summaryFooterTitle">Genel yorum</div>
                  <div class="summaryBand" id="summaryBand">Bant: —</div>
                </div>
                <div class="summaryFooterText" id="summaryFooterText">—</div>
              </div>
            </div>
          </div>
        </section>

        <section class="panel">
          <div class="panelInner">
            <div class="panelHd">
              <div>
                <div class="k">Grafikler</div>
                <div class="mini">Net kâr + toplam değer</div>
              </div>
            </div>
            <div class="panelBody">
              <div class="chartRow">
                <div class="chartCard">
                  <div class="chartTitle">
                    Net Kâr Grafiği
                    <span class="mini" id="chartCountProfit">(gösterilen 0 / ham 0)</span>
                    <span class="chartBadge" id="chartBadgeProfit">—</span>
                  </div>
                  <div class="chartWrap">
                    <canvas class="chartCanvas" id="chartProfit"></canvas>
                    <div class="chartTip" id="tipProfit"></div>
                  </div>
                </div>
                <div class="chartCard">
                  <div class="chartTitle">
                    Toplam Portföy Değeri
                    <span class="mini" id="chartCountValue">(gösterilen 0 / ham 0)</span>
                    <span class="chartBadge" id="chartBadgeValue">—</span>
                  </div>
                  <div class="chartWrap">
                    <canvas class="chartCanvas" id="chartValue"></canvas>
                    <div class="chartTip" id="tipValue"></div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </section>

        <section class="panel">
          <div class="panelInner">
            <div class="panelHd">
              <div>
                <div class="k">Portföy Özeti</div>
                <div class="mini">Chat formatında çıktı</div>
              </div>
            </div>
            <div class="panelBody">
              <div id="portfolioSummaryPanel"></div>
            </div>
          </div>
        </section>

        <section class="panel">
          <div class="panelInner">
            <div class="panelHd">
              <div>
                <div class="k">Girdi Akışı</div>
                <div class="mini" id="historyMeta">Bugün: 0 kayıt • Son güncelleme: —</div>
              </div>
              <div class="chipGroup" id="historyFilters">
                <button class="chipBtn isActive" data-filter="all">Tümü <span class="chipCount">0</span></button>
                <button class="chipBtn" data-filter="today">Bugün <span class="chipCount">0</span></button>
                <button class="chipBtn" data-filter="silver">Gümüş <span class="chipCount">0</span></button>
                <button class="chipBtn" data-filter="stocks">Hisse <span class="chipCount">0</span></button>
              </div>
            </div>
            <div class="panelBody">
              <div class="historyList" id="historyList"></div>
              <div class="historySummary" id="historySummary"></div>
            </div>
          </div>
        </section>

        <section class="panel">
          <div class="panelInner">
            <div class="panelHd">
              <div>
                <div class="k">İşlemler</div>
                <div class="mini" id="txMeta">İşlemler: 0 kayıt • Son işlem: —</div>
              </div>
              <div class="chipGroup" id="txFilters">
                <button class="chipBtn isActive" data-filter="all">Tümü <span class="chipCount">0</span></button>
                <button class="chipBtn" data-filter="today">Bugün <span class="chipCount">0</span></button>
                <button class="chipBtn" data-filter="silver">Gümüş <span class="chipCount">0</span></button>
                <button class="chipBtn" data-filter="stocks">Hisse <span class="chipCount">0</span></button>
              </div>
            </div>
            <div class="panelBody">
              <div class="historyList" id="txList"></div>
            </div>
          </div>
        </section>
      </div>
      <div class="sliderDots" id="sliderDots" role="tablist" aria-label="Paneller">
        <button class="dot isActive" role="tab" aria-selected="true" data-index="0" aria-label="Panel 1"></button>
        <button class="dot" role="tab" aria-selected="false" data-index="1" aria-label="Panel 2"></button>
        <button class="dot" role="tab" aria-selected="false" data-index="2" aria-label="Panel 3"></button>
        <button class="dot" role="tab" aria-selected="false" data-index="3" aria-label="Panel 4"></button>
      </div>
    </div>
  </div>

  <div class="toast" id="historyToast" role="status" aria-live="polite" aria-atomic="true"></div>

<script src="app.js"></script>
</body>
</html>
